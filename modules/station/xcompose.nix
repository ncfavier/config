{
  hm.home.file.".XCompose" = {
    text = ''
      include "%L"

      # Emotes
      <Multi_key> <y> <y> : "☯"
      <Multi_key> <O> <O> : "👀"
      <Multi_key> <greater> <less> : "👉👈"
      <Multi_key> <s> <h> : "¯\\_(ツ)_/¯"
      <Multi_key> <s> <2> <h> : "┐('~'; )┌"
      <Multi_key> <l> <e> : "( ͡° ͜ʖ ͡°)"
      <Multi_key> <m> <e> <h> : "ಠ_ಠ"
      <Multi_key> <t> <f> : "(╯°□°）╯︵ ┻━┻"
      <Multi_key> <q> <t> : "(◕‿◕)"
      <Multi_key> <r> <r> : "https://www.youtube.com/watch?v=dQw4w9WgXcQ" # for emergency use only

      # Math
      <Multi_key> <o> <o> : "∘"
      <Multi_key> <asciitilde> <equal> : "≃"
      <Multi_key> <asciitilde> <asciitilde> : "≈"
      <Multi_key> <question> <equal> : "≟"
      <Multi_key> <less> <less> : "≪"
      <Multi_key> <greater> <greater> : "≫"
      <Multi_key> <slash> <backslash> : "∧"
      <Multi_key> <backslash> <slash> : "∨"
      <Multi_key> <l> <a> <n> <d> : "∧"
      <Multi_key> <l> <o> <r> : "∨"
      <Multi_key> <i> <f> <f> : "⇔"
      <Multi_key> <t> <o> <p> : "⊤"
      <Multi_key> <b> <o> <t> : "⊥"
      <Multi_key> <underscore> <bar> <underscore> : "⊥"
      <Multi_key> <e> <x> : "∃"
      <Multi_key> <slash> <e> <x> : "∄"
      <Multi_key> <a> <l> <l> : "∀"
      <Multi_key> <bar> <minus> : "⊢"
      <Multi_key> <minus> <bar> : "⊣"
      <Multi_key> <bar> <equal> : "⊨"
      <Multi_key> <m> <e> <m> : "∈"
      <Multi_key> <n> <m> <e> <m> : "∉"
      <Multi_key> <i> <n> <c> : "⊂"
      <Multi_key> <n> <i> <n> <c> : "⊄"
      <Multi_key> <slash> <i> <n> <c> : "⊄"
      <Multi_key> <equal> <i> <n> <c> : "⊆"
      <Multi_key> <c> <u> <p> : "∪"
      <Multi_key> <c> <a> <p> : "∩"
      <Multi_key> <slash> <0> : "∅"
      <Multi_key> <i> <n> <f> : "∞"
      <Multi_key> <a> <l> <e> <p> <h> : "ℵ"
      <Multi_key> <a> <l> <e> <f> : "ℵ"
      <Multi_key> <o> <asterisk> : "⊗"
      <Multi_key> <o> <plus> : "⊕"
      <Multi_key> <ampersand> <ampersand> : "⅋"
      <Multi_key> <p> <a> <r> : "⅋"
      <Multi_key> <minus> <o> : "⊸"
      <Multi_key> <s> <q> : "√"
      <Multi_key> <3> <s> <q> : "∛"
      <Multi_key> <4> <s> <q> : "∜"
      <Multi_key> <1> <slash> <4> : "¼"
      <Multi_key> <1> <slash> <2> : "½"
      <Multi_key> <3> <slash> <4> : "¾"
      <Multi_key> <1> <slash> <3> : "⅓"
      <Multi_key> <2> <slash> <3> : "⅔"
      <Multi_key> <1> <slash> <5> : "⅕"
      <Multi_key> <2> <slash> <5> : "⅖"
      <Multi_key> <3> <slash> <5> : "⅗"
      <Multi_key> <4> <slash> <5> : "⅘"
      <Multi_key> <1> <slash> <6> : "⅙"
      <Multi_key> <5> <slash> <6> : "⅚"
      <Multi_key> <1> <slash> <8> : "⅛"
      <Multi_key> <3> <slash> <8> : "⅜"
      <Multi_key> <5> <slash> <8> : "⅝"
      <Multi_key> <7> <slash> <8> : "⅞"
      <Multi_key> <underscore> <i> : "ᵢ"
      <Multi_key> <underscore> <u> : "ᵤ"
      <Multi_key> <underscore> <x> : "ₓ"
      <Multi_key> <underscore> <j> : "ⱼ"
      <Multi_key> <underscore> <k> : "ₖ"
      <Multi_key> <underscore> <m> : "ₘ"
      <Multi_key> <underscore> <n> : "ₙ"
      <dead_circumflex> <n> : "ⁿ"
      <Multi_key> <C> <P> : "𝒫"
      <Multi_key> <B> <A> : "𝔸"
      <Multi_key> <B> <B> : "𝔹"
      <Multi_key> <B> <C> : "ℂ"
      <Multi_key> <B> <D> : "𝔻"
      <Multi_key> <B> <E> : "𝔼"
      <Multi_key> <B> <F> : "𝔽"
      <Multi_key> <B> <G> : "𝔾"
      <Multi_key> <B> <H> : "ℍ"
      <Multi_key> <B> <I> : "𝕀"
      <Multi_key> <B> <J> : "𝕁"
      <Multi_key> <B> <K> : "𝕂"
      <Multi_key> <B> <L> : "𝕃"
      <Multi_key> <B> <M> : "𝕄"
      <Multi_key> <B> <N> : "ℕ"
      <Multi_key> <B> <O> : "𝕆"
      <Multi_key> <B> <P> : "ℙ"
      <Multi_key> <B> <Q> : "ℚ"
      <Multi_key> <B> <R> : "ℝ"
      <Multi_key> <B> <S> : "𝕊"
      <Multi_key> <B> <T> : "𝕋"
      <Multi_key> <B> <U> : "𝕌"
      <Multi_key> <B> <V> : "𝕍"
      <Multi_key> <B> <W> : "𝕎"
      <Multi_key> <B> <X> : "𝕏"
      <Multi_key> <B> <Y> : "𝕐"
      <Multi_key> <B> <Z> : "ℤ"
      <Multi_key> <B> <1> : "𝟙"
      <Multi_key> <B> <0> : "𝟘"
      <Multi_key> <y> <o> : "よ"

      # Misc
      <Multi_key> <space> <space> : "␣"
      <Multi_key> <Up> : "↑"
      <Multi_key> <Down> : "↓"
      <Multi_key> <Left> : "←"
      <Multi_key> <Right> : "→"
      <Multi_key> <Tab> : "⇥"
      <Multi_key> <Return> : "↵"
      <Multi_key> <f> <l> : "❧"
      <Multi_key> <o> <k> : "✓"
      <Multi_key> <n> <o> <k> : "✗"
      <Multi_key> <1> <period> : "⒈"
      <Multi_key> <2> <period> : "⒉"
      <Multi_key> <3> <period> : "⒊"
      <Multi_key> <4> <period> : "⒋"
      <Multi_key> <5> <period> : "⒌"
      <Multi_key> <6> <period> : "⒍"
      <Multi_key> <7> <period> : "⒎"
      <Multi_key> <8> <period> : "⒏"
      <Multi_key> <9> <period> : "⒐"
      <Multi_key> <1> <0> <period> : "⒑"
      <Multi_key> <f> <l> <l> : "⌊"
      <Multi_key> <f> <l> <r> : "⌋"
      <Multi_key> <c> <e> <l> : "⌈"
      <Multi_key> <c> <e> <r> : "⌉"
      <Multi_key> <asterisk> <asterisk> : "•"
      <Multi_key> <asterisk> <o> : "◦"
      <Multi_key> <2> <exclam> : "‼"
      <Multi_key> <2> <question> : "⁇"
      <Multi_key> <z> <w> : "​"
      <Multi_key> <z> <n> <j> : "‌"
      <Multi_key> <z> <w> <j> : "‍"
      <Multi_key> <w> <j> : "⁠"
      <Multi_key> <period> <bar> <period> : "⋮"
      <Multi_key> <plus> <bar> : "†"
      <Multi_key> <plus> <plus> : "‡"
      <Multi_key> <s> <t> : "ﬆ"
      <Multi_key> <f> <t> : "ﬅ"
      <Multi_key> <underscore> <minus> : "₋"
      <Multi_key> <colon> <colon> : "∷"
      <Multi_key> <numbersign> <G> : "𝄞"
      <Multi_key> <numbersign> <F> : "𝄢"
      <Multi_key> <numbersign> <C> : "𝄡"
      <Multi_key> <degree> <C> : "℃"
      <Multi_key> <degree> <F> : "℉"
    '';

    onChange = ''
      rm -f "''${XDG_CACHE_HOME:-$HOME/.cache}"/ibus/compose/* # TODO https://github.com/ibus/ibus/pull/2362
      ibus restart
    '';
  };
}
